{% load widget_tweaks %} 

<div
  class="flex flex-col-reverse md:grid md:grid-cols-4 md:gap-4"
  id="charts-container"
>
  {% comment %} main table here {% endcomment %}
  <div class="col-span-3">

    {{ income_expense_barchart|safe }}
    <div class="grid grid-cols-2">
        {{ income_pie_chart|safe }}
        {{ expense_pie_chart|safe }}
  </div>

  {% comment %} filter here {% endcomment %}
  <div class="col-span-1">
    <form
      hx-get="{% url 'transaction-charts' %}"
      hx-target="#charts-container"
      hx-swap="outerHTML"
      hx-indicator="#spinner"
      id="filter-form"
    >
      <div class="mb-2 form-controls">
        {{ filter.form.transaction_type|add_label_class:"label text-white" }} 
        {% render_field filter.form.transaction_type class="select bg-gray-50 text-gray-900" %}
      </div>

      <div class="mb-2 form-controls">
        {{ filter.form.start_date|add_label_class:"label text-white" }} 
        {% render_field filter.form.start_date class="input bg-gray-50 text-gray-900" %}
      </div>

      <div class="mb-2 form-controls">
        {{ filter.form.end_date|add_label_class:"label text-white" }} 
        {% render_field filter.form.end_date class="input bg-gray-50 text-gray-900" %}
      </div>

     

      <div class="mb-2 form-controls">
        {{ filter.form.category|add_label_class:"label text-white" }} 
        {% render_field filter.form.category class="text-green-500 rounded focus:ring-green-500" %}
      </div>

      <button class="btn btn-success">Filters</button>
    </form>
    <span id="spinner" class="loading loading-spinner loading-lg htmx-indicator mt-2">
  </div>

</div>

{% comment %} {% if forloop.last and transactions.has_next %}
<span id="loading-indicator" class="loading loading-ring loading-xl hx-indicator" ></span>
{% endif %} {% endcomment %}
{% comment %} <span id="loading-indicator" class=" hx-indicator"></span> {% endcomment %}